<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <link rel="stylesheet" href="https://unpkg.com/98.css" />
  <link rel="stylesheet" th:href="@{/css/mypage.css}">
  <meta charset="UTF-8">
  <title>마이페이지</title>
</head>
<body>
<script th:src="@{/js/mypage.js}"></script>

<aside>
  <ul class="tree-view">
    <li><a th:href="@{/main}" style="font-size: 20px; font-weight: bold">DevLife</a></li>
    <li style="font-weight: bold">
      <a href="#components" >Category</a>
      <ul>
        <li><a th:href="@{/mypage}" sec:authorize="hasRole('USER')">마이페이지</a></li>
        <!--<li><a th:href="@{/adminpage}" sec:authorize="hasRole('ADMIN')">관리자페이지</a></li>-->
        <li><a th:href="@{/login}" sec:authorize="isAnonymous()">로그인</a></li>
        <li ><a id="logout-link" th:href="@{/user/logout}" th:if="${account != null}">로그아웃</a></li>
        <li><a th:href="@{/signup}" sec:authorize="isAnonymous()">회원가입</a></li>
        <li>
          <a href="#window">게시판</a>
          <ul>
            <li><a th:href="@{/board/list}">글 전체 조회</a></li>
            <li><a th:href="@{/board/list/DEVTOOL}">개발자 도구</a></li>
            <li><a th:href="@{/board/list/PET}">개발자네 개팔자</a></li>
            <li><a th:href="@{/board/list/GOURMET}">고독한 개발자</a></li>
          </ul>
        </li>
        <li><a th:href="@{/board/write}" th:if="${account != null}">글쓰기</a></li>

      </ul>
    </li>
    <li><a href="#issues-contributing-etc">Issues, Contributing, etc.</a></li>
  </ul>
</aside>

<main>
  <h2>마이페이지</h2>
  <div class="window">
    <div class="title-bar">
      <div class="title-bar-text" style="font-size: 40px">내 정보</div>
    </div>
    <div class="window-body">
      <p style="font-size: large;"> 정보를 알려드립니다</p>
      <ul style="font-size: large;">
        <li th:if="${account != null}">아이디 : <span th:text="${account.getProviderId()}"></span></li><br>
        <li th:if="${account != null}">닉네임 :  <span th:text="${account.getNickname()}"></span></li><br>
        <li th:if="${account != null}">등급 :  <span th:text="${account.getGrade()}"></span></li><br>
      </ul>
    </div>
    <button id="edit-nickname-btn" style="width: 150px; font-weight: bold"
            th:onclick="|location.href='@{/edit-nickname}'|">닉네임 수정하기</button>


    <div class="status-bar">
      <p class="status-bar-field">Press F1 for help</p>
      <p class="status-bar-field">Slide 1</p>
      <p class="status-bar-field">CPU Usage: 14%</p>
    </div>
  </div>

</main>

<script th:src="@{/js/logout.js}"></script>
<script th:src="@{/js/mypage.js}"></script>
</body>
</html> 